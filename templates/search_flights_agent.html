<form method="POST">
    <label for="source">Source City or Airport:</label>
    <input type="text" id="source" name="source" required>
    
    <label for="destination">Destination City or Airport:</label>
    <input type="text" id="destination" name="destination" required>
    
    <label for="date">Date:</label>
    <input type="date" id="date" name="date" required>
    
    <button type="submit" class="btn btn-primary">Search Flights</button>
</form>

{% if flights %}
    <h3>Available Flights</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Flight Number</th>
                <th>Airline Name</th>
                <th>Departure Airport</th>
                <th>Departure Time</th>
                <th>Arrival Airport</th>
                <th>Arrival Time</th>
                <th>Purchase</th>
            </tr>
        </thead>
        <tbody>
            {% for flight in flights %}
                <tr>
                    <td>{{ flight[1] }}</td>
                    <td>{{ flight[0] }}</td>
                    <td>{{ flight[2] }}</td>
                    <td>{{ flight[3] }}</td>
                    <td>{{ flight[4] }}</td>
                    <td>{{ flight[5] }}</td>
                    <td><a href="{{ url_for('purchase_ticket_agent', airline_name=flight[0], flight_num=flight[1]) }}" class="btn btn-success">Purchase</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No flights found. Try a different search.</p>
{% endif %}
